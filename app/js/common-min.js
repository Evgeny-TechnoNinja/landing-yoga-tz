document.addEventListener("DOMContentLoaded",()=>{const e={name:null,phone:null,service:null},t=document.querySelector("#inform"),o=document.querySelectorAll("input[data-rule], select[data-rule]");let n,l;function r(e,o){t.innerText=e,t.style.color=o,t.style.opacity="1",setTimeout(()=>{t.style.opacity="0"},5e3)}document.querySelector('form[name="form"]').addEventListener("submit",t=>{if(t.preventDefault(),o.forEach((t,o)=>{switch(t.dataset.rule){case"name":(n=/^[A-Za-zА-Яа-яЁё]+$/g.test(t.value))?e.name=t.value.trim():(t.classList.add("js-form-invalid"),r("no send","tomato"));break;case"phone":l=t.value.replace(/[^\d]/g,""),(n=/^\d+$/.test(l))?e.phone=l:(t.classList.add("js-form-invalid"),r("no send","tomato"));break;case"service":n=/^[A-Za-zА-Яа-яЁё]+$/g.test(t.value),e.service=n?t.value:"no choice"}}),function(e){for(key in e)return null!==e[key]}(e)){const t=JSON.stringify(e);let n=new XMLHttpRequest;n.open("POST","/backend/write-db.php"),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(t),n.onreadystatechange=function(){4==n.readyState&&200===n.status&&(r("send","green"),o.forEach(e=>{e.value=""}))}}}),baguetteBox.run("#gallery",{fullScreen:!1}),jQuery(function(e){e("#btnMenuOpen, #btnMenuClose").on("click",()=>{e(".menu-mobile__popup").slideToggle(160,()=>{e(".menu-mobile__popup").is(":hidden")?e("body").removeClass("body-pointer"):e("body").addClass("body-pointer")})}),e(document).on("click",t=>{e(t.target).closest(".menu-mobile").length||(e("body").removeClass("body-pointer"),e(".menu-mobile__popup").slideUp(300))}),e("#formSelect").niceSelect(),e("#slickSliderAbout").slick({slidesToShow:1,slidesToScroll:1,adaptiveHeight:!0,dots:!1,prevArrow:!1,nextArrow:!1,speed:400,prevArrow:e("#btnSliderAboutPrev"),nextArrow:e("#btnSliderAboutNext")})})});